<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API</title>
</head>
<body>
    <h1>Hello World!</h1>

    <script>
        (async function() {
            try {
                /*const  response = await fetch('https://jsonplaceholder.typicode.com/posts/1')
                const data = await response.json()*/
                /*
                for (const post of data) {
                    console.log(post.title);
                }*/
                
                //console.log(data.title);
                
                /*const headers = {
                    'Content-Type': 'application/json',
                    'TESTANDO': 'teste',
                }
                const init = {
                    method: 'POST', // creat
                    headers: headers,
                    body: JSON.stringify({
                        title: 'testando'
                    }),
                }
                const  response = await fetch('https://jsonplaceholder.typicode.com/posts', init)
                const data = await response.json()
                console.log(data)*/

                /*const headers = {
                    'Content-Type': 'application/json',
                    'TESTANDO': 'teste',
                }
                const init = {
                    method: 'PUT', // recebe somente os campos que precisava. Update
                    headers: headers,
                    body: JSON.stringify({
                        title: 'testando'
                    }),
                }
                const  response = await fetch('https://jsonplaceholder.typicode.com/posts/1', init)
                const data = await response.json()
                console.log(data)*/

                /*const headers = {
                    'Content-Type': 'application/json',
                    'TESTANDO': 'teste',
                }
                const init = {
                    method: 'PATCH', //recebe tudo + o campo que está editando  Update
                    headers: headers,
                    body: JSON.stringify({
                        title: 'testando'
                    }),
                }
                const  response = await fetch('https://jsonplaceholder.typicode.com/posts', init)
                const data = await response.json()
                console.log(data)*/

                const headers = {
                    'Content-Type': 'application/json',
                    'TESTANDO': 'teste',
                }
                const init = {
                    method: 'DELETE', 
                    headers: headers,
                }
                const  response = await fetch('https://jsonplaceholder.typicode.com/posts', init)
                const data = await response.json()
                console.log(data)

            } catch {
                console.log('DEU ERRO');
            }
        })()

        /*const  response = fetch('https://jsonplaceholder.typicode.com/posts')
            .then(data => {
                return data.json() //.json() é uma promessa
            })
            .then(jsonData => {
                console.log(jsonData);
            })
            .catch(error => {
                console.log('Deu erro');
            })*/
    </script>
</body>
</html>